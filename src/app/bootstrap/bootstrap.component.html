<main class="d-flex flex-column align-items-center">

    <div class="alert alert-warning alert-dismissible fade show" role="alert" *ngIf="errorMessage">
        {{ errorMessage }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <!-- class="position-absolute top-50 start-50 translate-middle shadow p-3 mb-5 bg-body-tertiary rounded" -->
    <div class="d-flex flex-column">
        <img src='../../assets//APLFigure.jpg'class="p-4 custom-image " />
        <h3 class=" p-4">Check for APL Effective Panels</h3>
        <!-- <figure class="figure ">
            <img src="../../assets//APLFigure.jpg" class="figure-img img-fluid rounded" alt="...">
            <figcaption class="">
                <h5>Check for APL Effective Panels</h5>
            </figcaption>
        </figure> -->

        <form class="d-flex ">
            <!-- <form class="d-flex flex-column align-items-center"> -->
            <div class="p-4 align-self-center ">
                <label for="validationDefault01" class="form-label ">All Figures PDF Upload <i>(drag and
                        drop)</i></label>
                <input type="file" class="form-control form-control-lg  " id="pdf-file" accept=".pdf"
                    (change)="onFileSelected($event)" required>
            </div>

            <div class="p-4 align-self-center">
                <label for="validationDefault02" class="form-label">Excel Template Upload <i>(drag and drop)</i></label>
                <input type="file" class="form-control form-control-lg" id="excel-file" accept=".xlsx, .xls"
                    (change)="onFileExcelUpload($event)" required>
            </div>

            <div *ngIf="pdfSrc">
                <pdf-viewer [src]="pdfSrc"></pdf-viewer>
            </div>

            <div class="card  .align-self-center " >
                <div class="card-header">
                    Result found:
                </div>

                <div class="card-body text-primary" *ngIf="showResults">
                    <blockquote class="blockquote mb-0">
                        <p *ngIf="loadingResults"> <app-loading></app-loading></p>

                        <p *ngIf="!loadingResults && commonMatches.length == 0">No matches found!</p>
                        <footer class=" text-primary">
                            <p *ngIf="!loadingResults && commonMatches.length != 0" style="margin-top: 10px;">
                                Found {{commonMatches.length}} panels.<br>
                                Folder named: Effective_Panels_Mach downloaded.
                            </p>
                        </footer>
                    </blockquote>
                </div>
            </div>

            <div *ngIf="pdfSrc">
                <pdf-viewer [src]="pdfSrc"></pdf-viewer>
            </div>
        

        </form>
        <div class="d-flex p-4">
            <!-- <div class="d-flex mx-auto"> -->
            <!-- <div class="d-flex justify-content-center"> -->
            <button id="check-button" type="button" class=" btn-lg btn btn-outline-primary mx-2 "
                (click)="onCheckButtonClick()">Submit</button>
            <button id="refresh-button" type="button" class="btn-lg btn btn-outline-dark mx-2 "
                (click)="onRefreshClick()">Refresh</button>
        </div>
    </div>

</main>